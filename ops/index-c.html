<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="icon"  href="../images/icon.png" type="image/x-icon"/>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>äº¤æ¥å°å·¥å…·</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://cdn.tiny.cloud/1/no-api-key/tinymce/6/tinymce.min.js" referrerpolicy="origin"></script>
</head>
<body>
    <button id="darkModeToggle" class="dark-mode-toggle">
        <span class="toggle-icon">ğŸŒ</span>
    </button>
    <button id="languageToggle" class="language-toggle" title="Switch to Chinese">
        <span class="language-icon">ğŸŒ</span>
    </button>
    <button id="logoutToggle" class="logout-toggle" title="Logout">
        <span class="logout-icon">ğŸšª</span>
    </button>
    <h1>äº¤æ¥å°å·¥å…·</h1>

    <div class="button-group">
        <button id="addTaskBtn" class="add-task-btn">æ·»åŠ äº‹é¡¹</button>
        <button id="backupBtn" class="backup-btn">ä¿å­˜å½“å‰äº‹é¡¹</button>
        <button id="loadBackupBtn" class="load-backup-btn">å¯¼å…¥äº‹é¡¹æ–‡ä»¶</button>
    </div>

    <!-- Kanban Board -->
    <div class="kanban-board">
        <div class="kanban-column" id="new-column" ondrop="drop(event)" ondragover="allowDrop(event)">
            <h2>å¾…å¤„ç†</h2>
            <ul class="task-list" id="new-tasks"></ul>
        </div>

        <div class="kanban-column" id="pending-column" ondrop="drop(event)" ondragover="allowDrop(event)">
            <h2>å¤„ç†ä¸­</h2>
            <ul class="task-list" id="pending-tasks"></ul>
        </div>

        <div class="kanban-column" id="completed-column" ondrop="drop(event)" ondragover="allowDrop(event)">
            <h2>å·²å®Œæˆ</h2>
            <ul class="task-list" id="completed-tasks"></ul>
        </div>

        <div class="kanban-column" id="scheduled-column" ondrop="drop(event)" ondragover="allowDrop(event)">
            <h2>æ’æœŸå¤„ç†</h2>
            <ul class="task-list" id="scheduled-tasks"></ul>
        </div>
    </div>

    <!-- Task Creation Modal -->
    <div id="taskModal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <h2>åˆ›å»ºäº‹é¡¹</h2>
            <div class="input-group">
                <label for="new-task-input">äº‹é¡¹æ ‡é¢˜</label>
                <input type="text" id="new-task-input" placeholder="è¯·è¾“å…¥äº‹é¡¹æ ‡é¢˜...">
            </div>
            <div class="input-group">
                <label for="new-task-content">äº‹é¡¹å†…å®¹</label>
                <textarea id="new-task-content" placeholder="è¯·è¾“å…¥äº‹é¡¹å†…å®¹..." rows="3"></textarea>
            </div>
            <div class="input-group">
                <label for="task-tags">é€‰æ‹©é¡¹ç›®</label>
                <div class="tag-selector">
                    <div class="tag-option" data-tag="apisys">
                        <span class="tag-color apisys"></span>
                        <span class="tag-name">Apisys</span>
                    </div>
                    <div class="tag-option" data-tag="cash">
                        <span class="tag-color cash"></span>
                        <span class="tag-name">ç°é‡‘ Cash</span>
                    </div>
                    <div class="tag-option" data-tag="credit">
                        <span class="tag-color credit"></span>
                        <span class="tag-name">ä¿¡ç”¨ Credit</span>
                    </div>
                    <div class="tag-option" data-tag="lottery">
                        <span class="tag-color lottery"></span>
                        <span class="tag-name">å¼€å¥–ç½‘</span>
                    </div>
                    <div class="tag-option" data-tag="grafana">
                        <span class="tag-color grafana"></span>
                        <span class="tag-name">Grafana</span>
                    </div>
                    <div class="tag-option" data-tag="other">
                        <span class="tag-color other"></span>
                        <span class="tag-name">å…¶ä»–</span>
                    </div>
                </div>
            </div>
            <div class="input-group">
                <label for="new-task-file">ä¸Šä¼ æ–‡ä»¶ï¼ˆå¦‚æœ‰ï¼‰</label>
                <div class="file-upload">
                    <input type="file" id="new-task-file">
                    <label for="new-task-file" class="file-label">
                        <span class="file-icon">ğŸ“</span>
                        <span class="file-text">é€‰æ‹©æ–‡ä»¶</span>
                    </label>
                </div>
            </div>
            <div class="modal-actions">
                <button class="cancel-btn" onclick="closeModal()">å–æ¶ˆ</button>
                <button class="create-btn" onclick="addTask('New')">æ·»åŠ äº‹é¡¹</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <br>
        <p>äº¤æ¥å°å·¥å…· | Yialex@2024</p>
    </footer>

    <script src="script.js"></script>
    <script>
        const username = localStorage.getItem('username');

        if (username === null || username === undefined || username !== 'Ops') {
            window.location.href = '../login.html';
        }
    </script>
</body>
</html>